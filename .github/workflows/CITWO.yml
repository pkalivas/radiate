# # This file is autogenerated by maturin v1.9.4
# # To update, run
# #
# #    maturin generate-ci github
# #
# name: publish

# on:
#   push:
#     branches:
#       - main
#       - master
#     tags:
#       - '*'
#   pull_request:
#   workflow_dispatch:

# permissions:
#   contents: read

# # Monorepo: py-radiate lives here
# env:
#   PY_RADIATE_DIR: radiate/py-radiate

# jobs:
#   linux:
#     runs-on: ${{ matrix.platform.runner }}
#     strategy:
#       matrix:
#         platform:
#           - runner: ubuntu-22.04
#             target: x86_64
#           - runner: ubuntu-22.04
#             target: x86
#           - runner: ubuntu-22.04
#             target: aarch64
#           - runner: ubuntu-22.04
#             target: armv7
#           - runner: ubuntu-22.04
#             target: s390x
#           - runner: ubuntu-22.04
#             target: ppc64le
#     steps:
#       - uses: actions/checkout@v4
#       - uses: actions/setup-python@v5
#         with:
#           python-version: 3.x
#       - name: Build wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#           manylinux: auto
#       - name: Build free-threaded wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist -i python3.13t
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#           manylinux: auto
#       - name: Upload wheels
#         uses: actions/upload-artifact@v4
#         with:
#           name: wheels-linux-${{ matrix.platform.target }}
#           path: ${{ env.PY_RADIATE_DIR }}/dist

#   musllinux:
#     runs-on: ${{ matrix.platform.runner }}
#     strategy:
#       matrix:
#         platform:
#           - runner: ubuntu-22.04
#             target: x86_64
#           - runner: ubuntu-22.04
#             target: x86
#           - runner: ubuntu-22.04
#             target: aarch64
#           - runner: ubuntu-22.04
#             target: armv7
#     steps:
#       - uses: actions/checkout@v4
#       - uses: actions/setup-python@v5
#         with:
#           python-version: 3.x
#       - name: Build wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#           manylinux: musllinux_1_2
#       - name: Build free-threaded wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist -i python3.13t
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#           manylinux: musllinux_1_2
#       - name: Upload wheels
#         uses: actions/upload-artifact@v4
#         with:
#           name: wheels-musllinux-${{ matrix.platform.target }}
#           path: ${{ env.PY_RADIATE_DIR }}/dist

#   windows:
#     runs-on: ${{ matrix.platform.runner }}
#     strategy:
#       matrix:
#         platform:
#           - runner: windows-latest
#             target: x64
#           - runner: windows-latest
#             target: x86
#     steps:
#       - uses: actions/checkout@v4
#       - uses: actions/setup-python@v5
#         with:
#           python-version: 3.x
#           architecture: ${{ matrix.platform.target }}
#       - name: Build wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#       - uses: actions/setup-python@v5
#         with:
#           python-version: 3.13t
#           architecture: ${{ matrix.platform.target }}
#       - name: Build free-threaded wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist -i python3.13t
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#       - name: Upload wheels
#         uses: actions/upload-artifact@v4
#         with:
#           name: wheels-windows-${{ matrix.platform.target }}
#           path: ${{ env.PY_RADIATE_DIR }}/dist

#   macos:
#     runs-on: ${{ matrix.platform.runner }}
#     strategy:
#       matrix:
#         platform:
#           - runner: macos-13
#             target: x86_64
#           - runner: macos-14
#             target: aarch64
#     steps:
#       - uses: actions/checkout@v4
#       - uses: actions/setup-python@v5
#         with:
#           python-version: 3.x
#       - name: Build wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#       - name: Build free-threaded wheels
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           target: ${{ matrix.platform.target }}
#           args: --release --out dist -i python3.13t
#           sccache: ${{ !startsWith(github.ref, 'refs/tags/') }}
#       - name: Upload wheels
#         uses: actions/upload-artifact@v4
#         with:
#           name: wheels-macos-${{ matrix.platform.target }}
#           path: ${{ env.PY_RADIATE_DIR }}/dist

#   sdist:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v4
#       - name: Build sdist
#         uses: PyO3/maturin-action@v1
#         with:
#           working-directory: ${{ env.PY_RADIATE_DIR }}
#           command: sdist
#           args: --out dist
#       - name: Upload sdist
#         uses: actions/upload-artifact@v4
#         with:
#           name: wheels-sdist
#           path: ${{ env.PY_RADIATE_DIR }}/dist

#   release:
#     name: Release
#     runs-on: ubuntu-latest
#     if: ${{ startsWith(github.ref, 'refs/tags/') || github.event_name == 'workflow_dispatch' }}
#     needs: [linux, musllinux, windows, macos, sdist]
#     permissions:
#       # Used to upload release artifacts (optional, keep as maturin default)
#       contents: write
#       # Required for Trusted Publishing (OIDC)
#       id-token: write
#       # Used to generate artifact attestation
#       attestations: write
#     environment:
#       name: publish_pypi
#     steps:
#       - uses: actions/download-artifact@v4
#         with:
#           path: dist
#           merge-multiple: true

#       - name: List artifacts
#         run: ls -R dist

#       - name: Generate artifact attestation
#         uses: actions/attest-build-provenance@v2
#         with:
#           subject-path: 'dist/*'

#       - name: Publish (Trusted Publisher)
#         if: ${{ startsWith(github.ref, 'refs/tags/') }}
#         uses: pypa/gh-action-pypi-publish@release/v1
#         with:
#           verbose: true
#           skip-existing: true
#           packages-dir: dist